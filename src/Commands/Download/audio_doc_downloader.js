const _0x20e9ad=_0x2b7c;function _0x593d(){const _0x540679=['Audio\x20download\x20error:','noResults','error','\x20An\x20unexpected\x20error\x20occurred:\x20','Cobalt\x20API\x20request\x20failed:','1jZLzug','\x0a📄\x20*KORD-AI\x20AUDIO-DOWNLOADER*\x20📄\x0a\x0a┌───────────────────\x0a├\x20\x20ℹ️\x20*Title:*\x20','\x20Audio\x20file\x20sent\x20as\x20a\x20document.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5ttfbiH','\x20MB)\x20exceeds\x20the\x20maximum\x20allowed\x20size\x20(','path','floor','\x20MB).','audio/mpeg','video','title','application/json','\x0a├\x20\x20⚠️\x20Use\x20*.play\x20|\x20.mp3*\x20for\x20streaming\x20audio!\x0a└───────────────────\x0a\x0a','react','exports','86905DoaJYw','thumbnail','An\x20error\x20occurred\x20while\x20fetching\x20data\x20from\x20Cobalt\x20API','../../temp','data','util','https://youtube.com/watch?v=','Search\x20for\x20YouTube\x20videos\x20and\x20download\x20their\x20audio\x20as\x20a\x20document\x20using\x20Cobalt.','YouTube\x20search\x20failed:','\x0a├\x20\x20🕒\x20*Duration:*\x20','warning','44961870nbojAM','now','.mp3','statSync','1638206vjXsXX','processing','\x20No\x20videos\x20found\x20for\x20that\x20query.','search','changeFont','152zzqfBd','size','GET','Failed\x20to\x20fetch\x20data\x20from\x20Cobalt\x20API','reply','\x20The\x20downloaded\x20file\x20is\x20empty.\x20Please\x20try\x20again.','createWriteStream','toFixed','match','videoId','Failed\x20to\x20search\x20YouTube','mp3doc','existsSync','freply','done','160098hiEgvi','4508172rSnqcW','1440p','random','unlinkSync','smallBoldScript','url','stream','../../Plugin/kordlogger','Download','length','status','mp3','duration','audio','join','11276271uaoybJ','songdoc','Invalid\x20YouTube\x20URL','videos','message','\x20Please\x20provide\x20a\x20search\x20query\x20or\x20YouTube\x20link.','1099300TLMlbD','\x20The\x20file\x20size\x20(','yt-search','https://cobalt.api.timelessnesses.me','readFileSync'];_0x593d=function(){return _0x540679;};return _0x593d();}(function(_0x1c6d14,_0x57b2f2){const _0x43f2aa=_0x2b7c,_0x633d14=_0x1c6d14();while(!![]){try{const _0x21bc9f=-parseInt(_0x43f2aa(0x1ce))/0x1*(parseInt(_0x43f2aa(0x19a))/0x2)+-parseInt(_0x43f2aa(0x1af))/0x3+-parseInt(_0x43f2aa(0x1c4))/0x4+-parseInt(_0x43f2aa(0x1d1))/0x5*(parseInt(_0x43f2aa(0x1ae))/0x6)+parseInt(_0x43f2aa(0x1dd))/0x7*(parseInt(_0x43f2aa(0x19f))/0x8)+-parseInt(_0x43f2aa(0x1be))/0x9+parseInt(_0x43f2aa(0x1e8))/0xa;if(_0x21bc9f===_0x57b2f2)break;else _0x633d14['push'](_0x633d14['shift']());}catch(_0x40a0c9){_0x633d14['push'](_0x633d14['shift']());}}}(_0x593d,0xd0f0a));const fs=require('fs'),path=require(_0x20e9ad(0x1d3)),{logger}=require(_0x20e9ad(0x1b6)),settings=require('../../../Config'),yts=require(_0x20e9ad(0x1c6)),axios=require('axios'),{pipeline}=require(_0x20e9ad(0x1b5)),{promisify}=require(_0x20e9ad(0x1e2)),streamPipeline=promisify(pipeline),COBALT_APIS=[_0x20e9ad(0x1c7),'https://co.eepy.today','https://dl.khyernet.xyz'],getRandomAPI=()=>COBALT_APIS[Math[_0x20e9ad(0x1d4)](Math[_0x20e9ad(0x1b1)]()*COBALT_APIS[_0x20e9ad(0x1b8)])],extractYouTubeID=_0xcf172c=>{const _0x1dac4e=_0x20e9ad,_0x59aa92=_0xcf172c[_0x1dac4e(0x1a7)](/(?:youtu\.be\/|youtube\.com\/(?:\S*?[?&]v=)|v\/|e\/|u\/\w+\/|embed\/|shorts\/)([\w-]{11})/);return _0x59aa92?_0x59aa92[0x1]:null;},requestCobaltAPI=async(_0x270bf0,_0x9ede7,_0x2bc405=0x2d0,_0x44e083='mp3')=>{const _0x1f9e4f=_0x20e9ad,_0x248674=getRandomAPI(),_0x57ec3f={'url':_0x1f9e4f(0x1e3)+_0x270bf0,'downloadMode':_0x9ede7,..._0x9ede7===_0x1f9e4f(0x1d7)&&{'videoQuality':_0x2bc405},..._0x9ede7===_0x1f9e4f(0x1bc)&&{'audioFormat':_0x44e083}};try{const _0x36cb42=await axios['post'](_0x248674,_0x57ec3f,{'headers':{'accept':_0x1f9e4f(0x1d9),'content-type':_0x1f9e4f(0x1d9)}});if(_0x36cb42['status']!==0xc8||!_0x36cb42['data']||_0x36cb42[_0x1f9e4f(0x1e1)][_0x1f9e4f(0x1b9)]!=='tunnel')throw new Error(_0x1f9e4f(0x1a2));return _0x36cb42[_0x1f9e4f(0x1e1)][_0x1f9e4f(0x1b4)];}catch(_0x52998f){logger[_0x1f9e4f(0x1cb)](_0x1f9e4f(0x1cd),_0x52998f);throw new Error(_0x1f9e4f(0x1df));}},searchYouTube=async _0xe56d58=>{const _0x4dfbd0=_0x20e9ad;try{const _0x240d6e=await yts(_0xe56d58);return _0x240d6e[_0x4dfbd0(0x1c1)]['map'](_0x357bc0=>({'title':_0x357bc0[_0x4dfbd0(0x1d8)],'id':_0x357bc0[_0x4dfbd0(0x1a8)],'url':_0x357bc0[_0x4dfbd0(0x1b4)],'thumbnail':_0x357bc0[_0x4dfbd0(0x1de)],'duration':_0x357bc0[_0x4dfbd0(0x1bb)]}));}catch(_0x393a8b){logger['error'](_0x4dfbd0(0x1e5),_0x393a8b);throw new Error(_0x4dfbd0(0x1a9));}},downloadAudio=async(_0x184ba,_0x3d960a=_0x20e9ad(0x1ba))=>{const _0x5e2e23=_0x20e9ad,_0x19ba13=extractYouTubeID(_0x184ba);if(!_0x19ba13)throw new Error(_0x5e2e23(0x1c0));const _0x3b4802=await requestCobaltAPI(_0x19ba13,_0x5e2e23(0x1bc),_0x5e2e23(0x1b0),_0x3d960a),_0x15bb8d=await axios({'method':_0x5e2e23(0x1a1),'url':_0x3b4802,'responseType':_0x5e2e23(0x1b5)});return _0x15bb8d[_0x5e2e23(0x1e1)];},emojis={'search':'🔍','found':'🎉','noResults':'😕','error':'🤖','processing':'⏳','done':'🚀','warning':'⚠️'};function _0x2b7c(_0x3143c1,_0x2a2d04){const _0x593dd=_0x593d();return _0x2b7c=function(_0x2b7cf8,_0xaa02d8){_0x2b7cf8=_0x2b7cf8-0x199;let _0x59aa32=_0x593dd[_0x2b7cf8];return _0x59aa32;},_0x2b7c(_0x3143c1,_0x2a2d04);}module[_0x20e9ad(0x1dc)]={'usage':['audiodoc',_0x20e9ad(0x1bf),'playdoc',_0x20e9ad(0x1aa)],'desc':_0x20e9ad(0x1e4),'commandType':_0x20e9ad(0x1b7),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'📄',async 'execute'(_0x342e93,_0x42f074,_0x2ff0de){const _0x574942=_0x20e9ad;try{const _0x1b23a7=settings['MAX_DOWNLOAD_SIZE']*0x400*0x400,_0x3277ea=_0x2ff0de[_0x574942(0x1bd)]('\x20');if(!_0x3277ea)return await kord[_0x574942(0x1a3)](_0x42f074,emojis['error']+_0x574942(0x1c3));await kord[_0x574942(0x1db)](_0x42f074,emojis[_0x574942(0x19d)]);const _0xd83a47=await searchYouTube(_0x3277ea);if(_0xd83a47[_0x574942(0x1b8)]===0x0)return await kord[_0x574942(0x1db)](_0x42f074,emojis[_0x574942(0x1ca)]),await kord[_0x574942(0x1a3)](_0x42f074,emojis[_0x574942(0x1ca)]+_0x574942(0x19c));const _0x15f641=_0xd83a47[0x0];await kord[_0x574942(0x1db)](_0x42f074,emojis['found']),await kord['freply'](_0x42f074,emojis[_0x574942(0x19b)]+'\x20Downloading\x20audio\x20for:\x20'+_0x15f641[_0x574942(0x1d8)]);const _0x4ccd5e=path[_0x574942(0x1bd)](__dirname,_0x574942(0x1e0));!fs[_0x574942(0x1ab)](_0x4ccd5e)&&fs['mkdirSync'](_0x4ccd5e,{'recursive':!![]});const _0x515091=path[_0x574942(0x1bd)](_0x4ccd5e,_0x15f641['id']+'_'+Date[_0x574942(0x1e9)]()+_0x574942(0x1ea)),_0x1fe8a5=fs[_0x574942(0x1a5)](_0x515091),_0x2833b1=await downloadAudio(_0x15f641[_0x574942(0x1b4)]);await streamPipeline(_0x2833b1,_0x1fe8a5);const _0x1a8518=fs[_0x574942(0x199)](_0x515091)[_0x574942(0x1a0)];if(_0x1a8518===0x0)return fs[_0x574942(0x1b2)](_0x515091),await kord['reply'](_0x42f074,emojis[_0x574942(0x1cb)]+_0x574942(0x1a4));if(_0x1a8518>_0x1b23a7)return fs[_0x574942(0x1b2)](_0x515091),await kord[_0x574942(0x1a3)](_0x42f074,emojis[_0x574942(0x1e7)]+_0x574942(0x1c5)+(_0x1a8518/0x400/0x400)[_0x574942(0x1a6)](0x2)+_0x574942(0x1d2)+_0x1b23a7/0x400/0x400+_0x574942(0x1d5));await kord['sendDocument'](_0x42f074,fs[_0x574942(0x1c8)](_0x515091),_0x574942(0x1d6),_0x15f641[_0x574942(0x1d8)]+_0x574942(0x1ea));const _0x13f18d=_0x574942(0x1cf)+_0x15f641[_0x574942(0x1d8)]+_0x574942(0x1e6)+_0x15f641['duration']['timestamp']+'\x0a├\x20\x20🔗\x20*URL:*\x20'+_0x15f641[_0x574942(0x1b4)]+_0x574942(0x1da)+emojis[_0x574942(0x1ad)]+_0x574942(0x1d0),_0x5e6272=await kord[_0x574942(0x19e)](_0x13f18d,_0x574942(0x1b3));await kord[_0x574942(0x1ac)](_0x42f074,_0x5e6272),fs[_0x574942(0x1b2)](_0x515091);}catch(_0x185c05){await kord[_0x574942(0x1db)](_0x42f074,emojis[_0x574942(0x1cb)]),await kord[_0x574942(0x1a3)](_0x42f074,emojis[_0x574942(0x1cb)]+_0x574942(0x1cc)+_0x185c05[_0x574942(0x1c2)]),logger[_0x574942(0x1cb)](_0x574942(0x1c9),_0x185c05);}}};